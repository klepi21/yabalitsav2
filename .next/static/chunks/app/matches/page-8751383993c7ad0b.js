(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[359],{8203:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var a=s(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a.Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},9300:function(e,t,s){Promise.resolve().then(s.bind(s,3680))},3680:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var a=s(7437),n=s(2265),i=s(3082),r=s(6085),l=s(3023),c=s(8203),o=s(6142),d=s(5750),m=s(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,m.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var u=s(4033);function f(){let[e,t]=(0,n.useState)([]),[s,m]=(0,n.useState)(!0),[f,p]=(0,n.useState)(null),x=(0,i.createClientComponentClient)(),g=(0,u.useRouter)();(0,n.useEffect)(()=>{let e=async()=>{let{data:{user:e}}=await x.auth.getUser();p(e)};e()},[]),(0,n.useEffect)(()=>{let e=async()=>{let{data:e,error:s}=await x.from("matches").select("\n          *,\n          venue:venues(*),\n          host:profiles!matches_host_id_fkey(*),\n          participants:match_participants(\n            player:profiles(*)\n          )\n        ").order("match_date",{ascending:!0});if(s){console.error("Error fetching matches:",s);return}t(e||[]),m(!1)};e()},[]);let v=e=>{var t;let[s,...a]=e.split(" ");return"".concat(s," ").concat(null===(t=a[0])||void 0===t?void 0:t[0],".")},j=async e=>{try{let{error:t}=await x.from("match_participants").insert({match_id:e,player_id:f.id});if(t)throw t;g.refresh()}catch(e){console.error("Error joining match:",e)}};if(s)return(0,a.jsx)("div",{className:"p-4",children:"Loading..."});let N=e.filter(e=>{let t=new Date(e.match_date),s=new Date;return t.toDateString()===s.toDateString()}),y=e.filter(e=>{let t=new Date(e.match_date),s=new Date;return t>s&&t.toDateString()!==s.toDateString()});return(0,a.jsxs)("div",{className:"container py-6 space-y-8",children:[(0,a.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[(0,a.jsxs)(l.z,{variant:"outline",size:"sm",className:"rounded-full",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"Σήμερα"]}),(0,a.jsxs)(l.z,{variant:"outline",size:"sm",className:"rounded-full",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"Κοντά μου"]}),(0,a.jsxs)(l.z,{variant:"outline",size:"sm",className:"rounded-full",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Διαθέσιμες θέσεις"]}),(0,a.jsxs)(l.z,{variant:"outline",size:"sm",className:"rounded-full ml-auto",children:[(0,a.jsx)(h,{className:"h-4 w-4 mr-2"}),"Φίλτρα"]})]}),N.length>0&&(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Σημερινοί Αγώνες"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(e=>(0,a.jsx)(r.m,{match:e,isJoined:e.participants.some(e=>e.player.id===(null==f?void 0:f.id)),onJoin:()=>j(e.id),formatName:v},e.id))})]}),y.length>0&&(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Προσεχείς Αγώνες"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(e=>(0,a.jsx)(r.m,{match:e,isJoined:e.participants.some(e=>e.player.id===(null==f?void 0:f.id)),onJoin:()=>j(e.id),formatName:v},e.id))})]}),0===e.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Δεν υπάρχουν διαθέσιμοι αγώνες"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Δοκιμάστε να αλλάξετε τα φίλτρα αναζήτησης"})]})]})}},4033:function(e,t,s){e.exports=s(290)}},function(e){e.O(0,[952,890,85,971,864,744],function(){return e(e.s=9300)}),_N_E=e.O()}]);