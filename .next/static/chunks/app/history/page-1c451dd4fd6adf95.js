(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{5913:function(e,t,n){Promise.resolve().then(n.bind(n,3819))},3819:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var i=n(7437),s=n(2265),a=n(3082),r=n(2936);function l(){let[e,t]=(0,s.useState)([]),[n,l]=(0,s.useState)(!0),[c,o]=(0,s.useState)(null),d=(0,a.createClientComponentClient)();if((0,s.useEffect)(()=>{let e=async()=>{let{data:{user:e}}=await d.auth.getUser();o(e)};e()},[]),(0,s.useEffect)(()=>{let e=async()=>{let{data:e,error:n}=await d.from("matches").select("\n          *,\n          venue:venues(*),\n          host:profiles!matches_host_id_fkey(*),\n          participants:match_participants(\n            player:profiles(*)\n          )\n        ").order("match_date",{ascending:!1});if(n){console.error("Error fetching matches:",n);return}t(e||[]),l(!1)};e()},[]),n)return(0,i.jsx)("div",{className:"p-4",children:"Loading..."});let u=e.filter(e=>{var t;return null===(t=e.participants)||void 0===t?void 0:t.some(e=>e.player.id===(null==c?void 0:c.id))}),p=e.filter(e=>{var t;return null===(t=e.participants)||void 0===t?void 0:t.some(e=>e.player.id===(null==c?void 0:c.id))});return(0,i.jsxs)("div",{className:"container py-6 space-y-8",children:[u.length>0&&(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Επερχόμενοι Αγώνες"}),(0,i.jsx)("div",{className:"space-y-4",children:u.map(e=>{var t;return(0,i.jsx)(r.m,{match:{...e,venue:e.venue,host:e.host,participants:e.participants},isJoined:(null===(t=e.participants)||void 0===t?void 0:t.some(e=>e.player.id===(null==c?void 0:c.id)))||!1,onJoin:()=>{},formatName:e=>{var t;let[n,...i]=e.split(" ");return"".concat(n," ").concat(null===(t=i[0])||void 0===t?void 0:t[0],".")}},e.id)})})]}),p.length>0&&(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Προηγούμενοι Αγώνες"}),(0,i.jsx)("div",{className:"space-y-4",children:p.map(e=>{var t;return(0,i.jsx)(r.m,{match:{...e,venue:e.venue,host:e.host,participants:e.participants},isJoined:(null===(t=e.participants)||void 0===t?void 0:t.some(e=>e.player.id===(null==c?void 0:c.id)))||!1,onJoin:()=>{},formatName:e=>{var t;let[n,...i]=e.split(" ");return"".concat(n," ").concat(null===(t=i[0])||void 0===t?void 0:t[0],".")}},e.id)})})]}),0===e.length&&(0,i.jsxs)("div",{className:"text-center py-12",children:[(0,i.jsx)("h3",{className:"text-lg font-medium",children:"Δεν έχετε συμμετάσχει σε αγώνες ακόμα"}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"Βρείτε έναν αγώνα και συμμετάσχετε!"})]})]})}}},function(e){e.O(0,[952,157,936,971,864,744],function(){return e(e.s=5913)}),_N_E=e.O()}]);