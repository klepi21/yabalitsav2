(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[429],{5898:(e,s,t)=>{Promise.resolve().then(t.bind(t,5014))},5014:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var i=t(5155),a=t(3367),n=t(2115),r=t(8217),l=t(9602);let c=r.bL,o=n.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,i.jsx)(r.B8,{ref:s,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...a})});o.displayName=r.B8.displayName;let d=n.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,i.jsx)(r.l9,{ref:s,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...a})});d.displayName=r.l9.displayName;let u=n.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,i.jsx)(r.UC,{ref:s,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...a})});u.displayName=r.UC.displayName;var m=t(5974);let h="https://uinmrgrmqhgonrshidcy.supabase.co",f="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVpbm1yZ3JtcWhnb25yc2hpZGN5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQ1MTIyMzUsImV4cCI6MjA1MDA4ODIzNX0.TtAI51MHBOVQUCd7hH-FTIOdERFjIBMIg7FussygnKk";if(!h||!f)throw Error("Missing Supabase environment variables");let p=(0,m.UU)(h,f,{auth:{persistSession:!0,autoRefreshToken:!0}});function g(e){let[s,t]=(0,n.useState)([]),[i,a]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{let s=async()=>{try{let s=p.from("matches").select("\n            *,\n            venue:venues(*),\n            host:profiles(*),\n            participants:match_participants(\n              player:profiles(*)\n            )\n          ").order("match_date",{ascending:!0});e&&s.eq("status",e);let{data:i,error:a}=await s;if(a)throw a;t(i||[])}catch(e){console.error("Error fetching matches:",e)}finally{a(!1)}};s();let i=p.channel("matches").on("postgres_changes",{event:"*",schema:"public",table:"matches"},()=>{s()}).subscribe();return()=>{i.unsubscribe()}},[e]),{matches:s,loading:i}}var b=t(4943);function v(){let{t:e}=(0,a.o)(),{matches:s,loading:t}=g("finished"),{matches:n,loading:r}=g("upcoming");return(0,i.jsxs)("div",{className:"p-4 space-y-6",children:[(0,i.jsx)("header",{className:"flex items-center justify-between mb-6",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-2xl font-bold",children:e("history.title")}),(0,i.jsx)("p",{className:"text-muted-foreground",children:e("history.subtitle")})]})}),(0,i.jsxs)(c,{defaultValue:"upcoming",children:[(0,i.jsxs)(o,{className:"grid w-full grid-cols-2",children:[(0,i.jsx)(d,{value:"upcoming",children:e("history.tabs.upcoming")}),(0,i.jsx)(d,{value:"finished",children:e("history.tabs.finished")})]}),(0,i.jsx)(u,{value:"upcoming",children:0===n.length?(0,i.jsx)("p",{className:"text-center text-muted-foreground py-8",children:e("history.noMatches")}):(0,i.jsx)("div",{className:"space-y-4",children:n.map(e=>{var s;return(0,i.jsx)(b.C,{match:{...e,participants:null===(s=e.participants)||void 0===s?void 0:s.map(e=>({player:{id:e.id,full_name:e.full_name}}))}},e.id)})})}),(0,i.jsx)(u,{value:"finished",children:0===s.length?(0,i.jsx)("p",{className:"text-center text-muted-foreground py-8",children:e("history.noMatches")}):(0,i.jsx)("div",{className:"space-y-4",children:s.map(e=>{var s;return(0,i.jsx)(b.C,{match:{...e,participants:null===(s=e.participants)||void 0===s?void 0:s.map(e=>({player:{id:e.id,full_name:e.full_name}}))}},e.id)})})})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[184,867,895,943,441,517,358],()=>s(5898)),_N_E=e.O()}]);