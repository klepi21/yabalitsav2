(()=>{var e={};e.id=572,e.ids=[572],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},74065:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>p,routeModule:()=>x,tree:()=>c});var a=r(73137),s=r(54647),i=r(4183),n=r.n(i),l=r(71775),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=a.AppPageRouteModule,c=["",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,24350)),"/Users/konstantinoslepidas/Desktop/football/app/create/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,58022)),"/Users/konstantinoslepidas/Desktop/football/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,51918,23)),"next/dist/client/components/not-found-error"]}],p=["/Users/konstantinoslepidas/Desktop/football/app/create/page.tsx"],u="/create/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new d({definition:{kind:s.x.APP_PAGE,page:"/create/page",pathname:"/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},92770:(e,t,r)=>{Promise.resolve().then(r.bind(r,39501))},39501:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Y});var a=r(60080),s=r(9885),i=r(57114),n=r(66558),l=r(83894),o=r(19098),d=r(43334),c=r(46701),p=r(14291),u=r(19458),m=r(4678),x=r(1264),h=r(23161);let f=p.fC;p.ZA;let g=p.B4,j=s.forwardRef(({className:e,children:t,...r},s)=>(0,a.jsxs)(p.xz,{ref:s,className:(0,h.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(p.JO,{asChild:!0,children:a.jsx(u.Z,{className:"h-4 w-4 opacity-50"})})]}));j.displayName=p.xz.displayName;let y=s.forwardRef(({className:e,...t},r)=>a.jsx(p.u_,{ref:r,className:(0,h.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(m.Z,{className:"h-4 w-4"})}));y.displayName=p.u_.displayName;let b=s.forwardRef(({className:e,...t},r)=>a.jsx(p.$G,{ref:r,className:(0,h.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(u.Z,{className:"h-4 w-4"})}));b.displayName=p.$G.displayName;let v=s.forwardRef(({className:e,children:t,position:r="popper",...s},i)=>a.jsx(p.h_,{children:(0,a.jsxs)(p.VY,{ref:i,className:(0,h.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[a.jsx(y,{}),a.jsx(p.l_,{className:(0,h.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(b,{})]})}));v.displayName=p.VY.displayName;let _=s.forwardRef(({className:e,...t},r)=>a.jsx(p.__,{ref:r,className:(0,h.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));_.displayName=p.__.displayName;let N=s.forwardRef(({className:e,children:t,...r},s)=>(0,a.jsxs)(p.ck,{ref:s,className:(0,h.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(p.wU,{children:a.jsx(x.Z,{className:"h-4 w-4"})})}),a.jsx(p.eT,{children:t})]}));N.displayName=p.ck.displayName;let w=s.forwardRef(({className:e,...t},r)=>a.jsx(p.Z0,{ref:r,className:(0,h.cn)("-mx-1 my-1 h-px bg-muted",e),...t}));w.displayName=p.Z0.displayName;var C=r(49424),q=r(68384),k=r(51910),z=r(11922),P=r(28070);function R({className:e,classNames:t,showOutsideDays:r=!0,...s}){return a.jsx(P._W,{showOutsideDays:r,className:(0,h.cn)("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,h.cn)((0,q.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,h.cn)((0,q.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...e})=>a.jsx(k.Z,{className:"h-4 w-4"}),IconRight:({...e})=>a.jsx(z.Z,{className:"h-4 w-4"})},...s})}R.displayName="Calendar";var Z=r(66698),M=r(12820);let I=M.fC,S=M.xz,G=s.forwardRef(({className:e,align:t="center",sideOffset:r=4,...s},i)=>a.jsx(M.h_,{children:a.jsx(M.VY,{ref:i,align:t,sideOffset:r,className:(0,h.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));G.displayName=M.VY.displayName;var V=r(517),W=r(79862),J=r(7073),O=r(74074),X=r(87502),$=r(97052),D=r(68856);let E=s.forwardRef(({className:e,...t},r)=>a.jsx(D.fC,{ref:r,className:(0,h.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(D.z$,{className:(0,h.cn)("flex items-center justify-center text-current"),children:a.jsx(x.Z,{className:"h-4 w-4"})})}));function U(e){return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[a.jsx("circle",{cx:"12",cy:"12",r:"10"}),a.jsx("path",{d:"M12 2a10 10 0 0 1 8.66 5"}),a.jsx("path",{d:"M12 2a10 10 0 0 0-8.66 5"}),a.jsx("path",{d:"M12 22V2"}),a.jsx("path",{d:"M12 22a10 10 0 0 0 8.66-5"}),a.jsx("path",{d:"M12 22a10 10 0 0 1-8.66-5"}),a.jsx("path",{d:"M2 12h20"})]})}E.displayName=D.fC.displayName;var A=r(12932);function Y(){let e=(0,i.useRouter)();(0,d.createClientComponentClient)();let{toast:t}=(0,X.pm)(),[r,p]=(0,s.useState)(!1),{t:u}=(0,A.useLanguage)(),m=o.Ry({venue_id:o.Z_({required_error:u("create.errors.venueRequired")}),match_date:o.hT({required_error:u("create.errors.dateRequired")}).refine(e=>!(0,J.Z)(e,(0,O.Z)()),u("create.errors.dateInPast")),match_time:o.Z_().refine(e=>{let[t,r]=e.split(":").map(Number);return t>=10&&t<=23&&(0===r||30===r)},u("create.errors.timeInvalid")),max_players:o.Rx().min(10,u("create.errors.playersRange")).max(16,u("create.errors.playersRange")),cost_per_player:o.Rx().min(0,u("create.errors.costNegative")),is_private:o.O7().default(!1),venue_confirmed:o.O7().refine(e=>!0===e,{message:u("create.errors.venueConfirmRequired")})}),x=(0,n.cI)({resolver:(0,l.F)(m),defaultValues:{max_players:10,cost_per_player:5,is_private:!1,venue_confirmed:!1}}),y=Array.from({length:27},(e,t)=>`${(Math.floor(t/2)+10).toString().padStart(2,"0")}:${t%2==0?"00":"30"}`),b=async r=>{try{p(!0);let a=(0,d.createClientComponentClient)(),{data:{user:s}}=await a.auth.getUser();if(!s){t({title:"Error",description:"You must be logged in to create a match",variant:"destructive"});return}let[i,n]=r.match_time.split(":").map(Number),l=new Date(r.match_date);l.setHours(i,n);let o=r.is_private?Math.random().toString(36).substring(2,8).toUpperCase():null,{data:c,error:u}=await a.from("matches").insert({venue_id:r.venue_id,host_id:s.id,match_date:l.toISOString(),max_players:r.max_players,cost_per_player:r.cost_per_player,is_private:r.is_private,private_code:o,status:"upcoming"}).select().single();if(u)throw u;let{error:m}=await a.from("match_participants").insert({match_id:c.id,player_id:s.id});if(m)throw m;t({title:"Success",description:"Match created successfully!"}),e.push(`/match/${c.id}`)}catch(e){console.error("Error creating match:",e),t({title:"Error",description:"Failed to create match",variant:"destructive"})}finally{p(!1)}};return a.jsx("div",{className:"p-4 max-w-2xl mx-auto",children:(0,a.jsxs)($.Zb,{className:"border-2",children:[a.jsx($.Ol,{className:"bg-gradient-to-r from-primary/10 to-transparent",children:(0,a.jsxs)($.ll,{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(U,{className:"h-6 w-6 text-primary"}),u("create.title")]})}),a.jsx($.aY,{className:"p-6",children:a.jsx(c.l0,{...x,children:(0,a.jsxs)("form",{onSubmit:x.handleSubmit(b),className:"space-y-6",children:[a.jsx(c.Wi,{control:x.control,name:"venue_id",render:({field:e})=>(0,a.jsxs)(c.xJ,{children:[a.jsx(c.lX,{children:u("create.venue.label")}),(0,a.jsxs)(f,{onValueChange:e.onChange,defaultValue:e.value,children:[a.jsx(c.NI,{children:a.jsx(j,{children:a.jsx(g,{placeholder:u("create.venue.placeholder")})})}),a.jsx(v,{children:a.jsx(N,{value:"d290f1ee-6c54-4b01-90e6-d701748f0851",children:"Leontes"})})]}),a.jsx(c.zG,{})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(c.Wi,{control:x.control,name:"match_date",render:({field:e})=>(0,a.jsxs)(c.xJ,{className:"flex flex-col",children:[a.jsx(c.lX,{children:u("create.date.label")}),(0,a.jsxs)(I,{children:[a.jsx(S,{asChild:!0,children:a.jsx(c.NI,{children:(0,a.jsxs)(q.z,{variant:"outline",className:(0,h.cn)("pl-3 text-left font-normal",!e.value&&"text-muted-foreground"),children:[e.value?(0,W.ZP)(e.value,"PPP"):a.jsx("span",{children:u("create.date.placeholder")}),a.jsx(V.Z,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),a.jsx(G,{className:"w-auto p-0",align:"start",children:a.jsx(R,{mode:"single",selected:e.value,onSelect:e.onChange,disabled:e=>e<new Date,initialFocus:!0})})]}),a.jsx(c.zG,{})]})}),a.jsx(c.Wi,{control:x.control,name:"match_time",render:({field:e})=>(0,a.jsxs)(c.xJ,{children:[a.jsx(c.lX,{children:u("create.time.label")}),(0,a.jsxs)(f,{onValueChange:e.onChange,defaultValue:e.value,children:[a.jsx(c.NI,{children:a.jsx(j,{children:a.jsx(g,{placeholder:u("create.time.placeholder")})})}),a.jsx(v,{children:y.map(e=>a.jsx(N,{value:e,children:e},e))})]}),a.jsx(c.zG,{})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(c.Wi,{control:x.control,name:"max_players",render:({field:e})=>(0,a.jsxs)(c.xJ,{children:[a.jsx(c.lX,{children:u("create.players.label")}),(0,a.jsxs)(f,{onValueChange:t=>e.onChange(Number(t)),defaultValue:e.value.toString(),children:[a.jsx(c.NI,{children:a.jsx(j,{children:a.jsx(g,{placeholder:u("create.players.label")})})}),a.jsx(v,{children:[10,12,14,16].map(e=>(0,a.jsxs)(N,{value:e.toString(),children:[e," ",u("create.players.suffix")]},e))})]}),a.jsx(c.zG,{})]})}),a.jsx(c.Wi,{control:x.control,name:"cost_per_player",render:({field:e})=>(0,a.jsxs)(c.xJ,{children:[a.jsx(c.lX,{children:u("create.cost.label")}),a.jsx(c.NI,{children:a.jsx(C.I,{type:"number",min:"0",step:"0.5",placeholder:u("create.cost.placeholder"),...e,onChange:t=>e.onChange(Number(t.target.value))})}),a.jsx(c.zG,{})]})})]}),a.jsx(c.Wi,{control:x.control,name:"is_private",render:({field:e})=>(0,a.jsxs)(c.xJ,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[a.jsx(c.lX,{className:"text-base",children:u("create.privateMatch.label")}),a.jsx(c.pf,{children:u("create.privateMatch.description")})]}),a.jsx(c.NI,{children:a.jsx(Z.r,{checked:e.value,onCheckedChange:e.onChange})})]})}),a.jsx(c.Wi,{control:x.control,name:"venue_confirmed",render:({field:e})=>(0,a.jsxs)(c.xJ,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[a.jsx(c.NI,{children:a.jsx(E,{checked:e.value,onCheckedChange:e.onChange})}),(0,a.jsxs)("div",{className:"space-y-1 leading-none",children:[a.jsx(c.lX,{className:"text-sm font-medium leading-none",children:u("create.venueConfirmation.label")}),a.jsx(c.pf,{className:"text-sm text-muted-foreground",children:u("create.venueConfirmation.description")}),a.jsx(c.zG,{})]})]})}),a.jsx(q.z,{type:"submit",className:"w-full bg-primary hover:bg-primary/90 text-white shadow-lg transition-all",disabled:r||!x.watch("venue_confirmed"),children:r?u("create.submit.creating"):u("create.submit.create")})]})})})]})})}},24350:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var a=r(17536);let s=(0,a.createProxy)(String.raw`/Users/konstantinoslepidas/Desktop/football/app/create/page.tsx`),{__esModule:i,$$typeof:n}=s,l=s.default,o=l}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[650,234,862,418,985,92,52,976],()=>r(74065));module.exports=a})();