(()=>{var e={};e.id=572,e.ids=[572],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},74065:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>u,routeModule:()=>x,tree:()=>d});var a=t(73137),s=t(54647),n=t(4183),i=t.n(n),o=t(71775),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let c=a.AppPageRouteModule,d=["",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,24350)),"/Users/konstantinoslepidas/Desktop/football/app/create/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,58022)),"/Users/konstantinoslepidas/Desktop/football/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,51918,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/konstantinoslepidas/Desktop/football/app/create/page.tsx"],m="/create/page",p={require:t,loadChunk:()=>Promise.resolve()},x=new c({definition:{kind:s.x.APP_PAGE,page:"/create/page",pathname:"/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},92770:(e,r,t)=>{Promise.resolve().then(t.bind(t,12585))},12585:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>Y});var a=t(60080),s=t(9885),n=t(57114),i=t(66558),o=t(83894),l=t(19098),c=t(43334),d=t(71085),u=t(23161),m=t(33478);let p=i.RV,x=s.createContext({}),h=({...e})=>a.jsx(x.Provider,{value:{name:e.name},children:a.jsx(i.Qr,{...e})}),f=()=>{let e=s.useContext(x),r=s.useContext(g),{getFieldState:t,formState:a}=(0,i.Gc)(),n=t(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=r;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...n}},g=s.createContext({}),j=s.forwardRef(({className:e,...r},t)=>{let n=s.useId();return a.jsx(g.Provider,{value:{id:n},children:a.jsx("div",{ref:t,className:(0,u.cn)("space-y-2",e),...r})})});j.displayName="FormItem";let v=s.forwardRef(({className:e,...r},t)=>{let{error:s,formItemId:n}=f();return a.jsx(m._,{ref:t,className:(0,u.cn)(s&&"text-destructive",e),htmlFor:n,...r})});v.displayName="FormLabel";let b=s.forwardRef(({...e},r)=>{let{error:t,formItemId:s,formDescriptionId:n,formMessageId:i}=f();return a.jsx(d.g7,{ref:r,id:s,"aria-describedby":t?`${n} ${i}`:`${n}`,"aria-invalid":!!t,...e})});b.displayName="FormControl";let y=s.forwardRef(({className:e,...r},t)=>{let{formDescriptionId:s}=f();return a.jsx("p",{ref:t,id:s,className:(0,u.cn)("text-sm text-muted-foreground",e),...r})});y.displayName="FormDescription";let _=s.forwardRef(({className:e,children:r,...t},s)=>{let{error:n,formMessageId:i}=f(),o=n?String(n?.message):r;return o?a.jsx("p",{ref:s,id:i,className:(0,u.cn)("text-sm font-medium text-destructive",e),...t,children:o}):null});_.displayName="FormMessage";var w=t(70589),N=t(49424),C=t(68384),k=t(51910),q=t(11922),P=t(28070);function R({className:e,classNames:r,showOutsideDays:t=!0,...s}){return a.jsx(P._W,{showOutsideDays:t,className:(0,u.cn)("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,u.cn)((0,C.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,u.cn)((0,C.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:({...e})=>a.jsx(k.Z,{className:"h-4 w-4"}),IconRight:({...e})=>a.jsx(q.Z,{className:"h-4 w-4"})},...s})}R.displayName="Calendar";var M=t(73195);let S=s.forwardRef(({className:e,...r},t)=>a.jsx(M.fC,{className:(0,u.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...r,ref:t,children:a.jsx(M.bU,{className:(0,u.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));S.displayName=M.fC.displayName;var F=t(12820);let I=F.fC,$=F.xz,V=s.forwardRef(({className:e,align:r="center",sideOffset:t=4,...s},n)=>a.jsx(F.h_,{children:a.jsx(F.VY,{ref:n,align:r,sideOffset:t,className:(0,u.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));V.displayName=F.VY.displayName;var Z=t(517),z=t(79862),D=t(7073),E=t(74074),O=t(87502),U=t(97052),L=t(68856),A=t(1264);let G=s.forwardRef(({className:e,...r},t)=>a.jsx(L.fC,{ref:t,className:(0,u.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:a.jsx(L.z$,{className:(0,u.cn)("flex items-center justify-center text-current"),children:a.jsx(A.Z,{className:"h-4 w-4"})})}));function B(e){return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[a.jsx("circle",{cx:"12",cy:"12",r:"10"}),a.jsx("path",{d:"M12 2a10 10 0 0 1 8.66 5"}),a.jsx("path",{d:"M12 2a10 10 0 0 0-8.66 5"}),a.jsx("path",{d:"M12 22V2"}),a.jsx("path",{d:"M12 22a10 10 0 0 0 8.66-5"}),a.jsx("path",{d:"M12 22a10 10 0 0 1-8.66-5"}),a.jsx("path",{d:"M2 12h20"})]})}G.displayName=L.fC.displayName;var Q=t(12932);function Y(){let e=(0,n.useRouter)();(0,c.createClientComponentClient)();let{toast:r}=(0,O.pm)(),[t,d]=(0,s.useState)(!1),{t:m}=(0,Q.useLanguage)(),x=l.Ry({venue_id:l.Z_({required_error:m("create.errors.venueRequired")}),match_date:l.hT({required_error:m("create.errors.dateRequired")}).refine(e=>!(0,D.Z)(e,(0,E.Z)()),m("create.errors.dateInPast")),match_time:l.Z_().refine(e=>{let[r,t]=e.split(":").map(Number);return r>=10&&r<=23&&(0===t||30===t)},m("create.errors.timeInvalid")),max_players:l.Rx().min(10,m("create.errors.playersRange")).max(16,m("create.errors.playersRange")),cost_per_player:l.Rx().min(0,m("create.errors.costNegative")),is_private:l.O7().default(!1),venue_confirmed:l.O7().refine(e=>!0===e,{message:m("create.errors.venueConfirmRequired")})}),f=(0,i.cI)({resolver:(0,o.F)(x),defaultValues:{max_players:10,cost_per_player:5,is_private:!1,venue_confirmed:!1}}),g=Array.from({length:27},(e,r)=>`${(Math.floor(r/2)+10).toString().padStart(2,"0")}:${r%2==0?"00":"30"}`),k=async t=>{try{d(!0);let a=(0,c.createClientComponentClient)(),{data:{user:s}}=await a.auth.getUser();if(!s){r({title:"Error",description:"You must be logged in to create a match",variant:"destructive"});return}let[n,i]=t.match_time.split(":").map(Number),o=new Date(t.match_date);o.setHours(n,i);let l=t.is_private?Math.random().toString(36).substring(2,8).toUpperCase():null,{data:u,error:m}=await a.from("matches").insert({venue_id:t.venue_id,host_id:s.id,match_date:o.toISOString(),max_players:t.max_players,cost_per_player:t.cost_per_player,is_private:t.is_private,private_code:l,status:"upcoming"}).select().single();if(m)throw m;let{error:p}=await a.from("match_participants").insert({match_id:u.id,player_id:s.id});if(p)throw p;r({title:"Success",description:"Match created successfully!"}),e.push(`/match/${u.id}`)}catch(e){console.error("Error creating match:",e),r({title:"Error",description:"Failed to create match",variant:"destructive"})}finally{d(!1)}};return a.jsx("div",{className:"p-4 max-w-2xl mx-auto",children:(0,a.jsxs)(U.Zb,{className:"border-2",children:[a.jsx(U.Ol,{className:"bg-gradient-to-r from-primary/10 to-transparent",children:(0,a.jsxs)(U.ll,{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(B,{className:"h-6 w-6 text-primary"}),m("create.title")]})}),a.jsx(U.aY,{className:"p-6",children:a.jsx(p,{...f,children:(0,a.jsxs)("form",{onSubmit:f.handleSubmit(k),className:"space-y-6",children:[a.jsx(h,{control:f.control,name:"venue_id",render:({field:e})=>(0,a.jsxs)(j,{children:[a.jsx(v,{children:m("create.venue.label")}),(0,a.jsxs)(w.Ph,{onValueChange:e.onChange,defaultValue:e.value,children:[a.jsx(b,{children:a.jsx(w.i4,{children:a.jsx(w.ki,{placeholder:m("create.venue.placeholder")})})}),a.jsx(w.Bw,{children:a.jsx(w.Ql,{value:"d290f1ee-6c54-4b01-90e6-d701748f0851",children:"Leontes"})})]}),a.jsx(_,{})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(h,{control:f.control,name:"match_date",render:({field:e})=>(0,a.jsxs)(j,{className:"flex flex-col",children:[a.jsx(v,{children:m("create.date.label")}),(0,a.jsxs)(I,{children:[a.jsx($,{asChild:!0,children:a.jsx(b,{children:(0,a.jsxs)(C.z,{variant:"outline",className:(0,u.cn)("pl-3 text-left font-normal",!e.value&&"text-muted-foreground"),children:[e.value?(0,z.ZP)(e.value,"PPP"):a.jsx("span",{children:m("create.date.placeholder")}),a.jsx(Z.Z,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),a.jsx(V,{className:"w-auto p-0",align:"start",children:a.jsx(R,{mode:"single",selected:e.value,onSelect:e.onChange,disabled:e=>e<new Date,initialFocus:!0})})]}),a.jsx(_,{})]})}),a.jsx(h,{control:f.control,name:"match_time",render:({field:e})=>(0,a.jsxs)(j,{children:[a.jsx(v,{children:m("create.time.label")}),(0,a.jsxs)(w.Ph,{onValueChange:e.onChange,defaultValue:e.value,children:[a.jsx(b,{children:a.jsx(w.i4,{children:a.jsx(w.ki,{placeholder:m("create.time.placeholder")})})}),a.jsx(w.Bw,{children:g.map(e=>a.jsx(w.Ql,{value:e,children:e},e))})]}),a.jsx(_,{})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(h,{control:f.control,name:"max_players",render:({field:e})=>(0,a.jsxs)(j,{children:[a.jsx(v,{children:m("create.players.label")}),(0,a.jsxs)(w.Ph,{onValueChange:r=>e.onChange(Number(r)),defaultValue:e.value.toString(),children:[a.jsx(b,{children:a.jsx(w.i4,{children:a.jsx(w.ki,{placeholder:m("create.players.label")})})}),a.jsx(w.Bw,{children:[10,12,14,16].map(e=>(0,a.jsxs)(w.Ql,{value:e.toString(),children:[e," ",m("create.players.suffix")]},e))})]}),a.jsx(_,{})]})}),a.jsx(h,{control:f.control,name:"cost_per_player",render:({field:e})=>(0,a.jsxs)(j,{children:[a.jsx(v,{children:m("create.cost.label")}),a.jsx(b,{children:a.jsx(N.I,{type:"number",min:"0",step:"0.5",placeholder:m("create.cost.placeholder"),...e,onChange:r=>e.onChange(Number(r.target.value))})}),a.jsx(_,{})]})})]}),a.jsx(h,{control:f.control,name:"is_private",render:({field:e})=>(0,a.jsxs)(j,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[a.jsx(v,{className:"text-base",children:m("create.privateMatch.label")}),a.jsx(y,{children:m("create.privateMatch.description")})]}),a.jsx(b,{children:a.jsx(S,{checked:e.value,onCheckedChange:e.onChange})})]})}),a.jsx(h,{control:f.control,name:"venue_confirmed",render:({field:e})=>(0,a.jsxs)(j,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[a.jsx(b,{children:a.jsx(G,{checked:e.value,onCheckedChange:e.onChange})}),(0,a.jsxs)("div",{className:"space-y-1 leading-none",children:[a.jsx(v,{className:"text-sm font-medium leading-none",children:m("create.venueConfirmation.label")}),a.jsx(y,{className:"text-sm text-muted-foreground",children:m("create.venueConfirmation.description")}),a.jsx(_,{})]})]})}),a.jsx(C.z,{type:"submit",className:"w-full bg-primary hover:bg-primary/90 text-white shadow-lg transition-all",disabled:t||!f.watch("venue_confirmed"),children:t?m("create.submit.creating"):m("create.submit.create")})]})})})]})})}},24350:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var a=t(17536);let s=(0,a.createProxy)(String.raw`/Users/konstantinoslepidas/Desktop/football/app/create/page.tsx`),{__esModule:n,$$typeof:i}=s,o=s.default,l=o}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[650,125,862,648,536,291,617,52,154],()=>t(74065));module.exports=a})();