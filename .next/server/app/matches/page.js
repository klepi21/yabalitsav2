(()=>{var e={};e.id=359,e.ids=[359],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>u,routeModule:()=>x,tree:()=>d});var r=s(73137),a=s(54647),i=s(4183),n=s.n(i),o=s(71775),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=r.AppPageRouteModule,d=["",{children:["matches",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,51363)),"/Users/konstantinoslepidas/Desktop/football/app/matches/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,58022)),"/Users/konstantinoslepidas/Desktop/football/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,51918,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/konstantinoslepidas/Desktop/football/app/matches/page.tsx"],p="/matches/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new c({definition:{kind:a.x.APP_PAGE,page:"/matches/page",pathname:"/matches",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},57426:(e,t,s)=>{Promise.resolve().then(s.bind(s,35798))},35798:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(60080),a=s(9885),i=s(43334),n=s(11526),o=s(68384),l=s(517),c=s(87094),d=s(91672),u=s(12029),p=s(57114);function m(){let[e,t]=(0,a.useState)([]),[s,m]=(0,a.useState)(!0),[x,h]=(0,a.useState)(null),g=(0,i.createClientComponentClient)(),f=(0,p.useRouter)();(0,a.useEffect)(()=>{let e=async()=>{let{data:{user:e}}=await g.auth.getUser();h(e)};e()},[]),(0,a.useEffect)(()=>{let e=async()=>{let{data:e,error:s}=await g.from("matches").select(`
          *,
          venue:venues(*),
          host:profiles!matches_host_id_fkey(*),
          participants:match_participants(
            player:profiles(*)
          )
        `).order("match_date",{ascending:!0});if(s){console.error("Error fetching matches:",s);return}t(e||[]),m(!1)};e()},[]);let j=e=>{let[t,...s]=e.split(" ");return`${t} ${s[0]?.[0]}.`},_=async e=>{try{let{error:t}=await g.from("match_participants").insert({match_id:e,player_id:x.id});if(t)throw t;f.refresh()}catch(e){console.error("Error joining match:",e)}};if(s)return r.jsx("div",{className:"p-4",children:"Loading..."});let v=e.filter(e=>{let t=new Date(e.match_date),s=new Date;return t.toDateString()===s.toDateString()}),q=e.filter(e=>{let t=new Date(e.match_date),s=new Date;return t>s&&t.toDateString()!==s.toDateString()});return(0,r.jsxs)("div",{className:"container py-6 space-y-8",children:[(0,r.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[(0,r.jsxs)(o.z,{variant:"outline",size:"sm",className:"rounded-full",children:[r.jsx(l.Z,{className:"h-4 w-4 mr-2"}),"Σήμερα"]}),(0,r.jsxs)(o.z,{variant:"outline",size:"sm",className:"rounded-full",children:[r.jsx(c.Z,{className:"h-4 w-4 mr-2"}),"Κοντά μου"]}),(0,r.jsxs)(o.z,{variant:"outline",size:"sm",className:"rounded-full",children:[r.jsx(d.Z,{className:"h-4 w-4 mr-2"}),"Διαθέσιμες θέσεις"]}),(0,r.jsxs)(o.z,{variant:"outline",size:"sm",className:"rounded-full ml-auto",children:[r.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Φίλτρα"]})]}),v.length>0&&(0,r.jsxs)("section",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Σημερινοί Αγώνες"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(e=>r.jsx(n.m,{match:e,isJoined:e.participants.some(e=>e.player.id===x?.id),onJoin:()=>_(e.id),formatName:j},e.id))})]}),q.length>0&&(0,r.jsxs)("section",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Προσεχείς Αγώνες"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:q.map(e=>r.jsx(n.m,{match:e,isJoined:e.participants.some(e=>e.player.id===x?.id),onJoin:()=>_(e.id),formatName:j},e.id))})]}),0===e.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Δεν υπάρχουν διαθέσιμοι αγώνες"}),r.jsx("p",{className:"text-muted-foreground",children:"Δοκιμάστε να αλλάξετε τα φίλτρα αναζήτησης"})]})]})}},51363:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var r=s(17536);let a=(0,r.createProxy)(String.raw`/Users/konstantinoslepidas/Desktop/football/app/matches/page.tsx`),{__esModule:i,$$typeof:n}=a,o=a.default,l=o}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[650,125,862,129,393,714,617,52,293,477,526],()=>s(481));module.exports=r})();